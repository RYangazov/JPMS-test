plugins {
  id "application"
  id "org.jetbrains.kotlin.jvm"
  id "com.github.johnrengelman.shadow"
  id "idea"
  id "extra-java-module-info"
}

ext {
  kotlinVersion = "1.3.71"
}

dependencies {
  implementation("org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion")
  implementation("ch.qos.logback:logback-classic:1.2.3")
  implementation fileTree(dir: 'D:\\Projects\\kotlin-modules-master\\nonmodular-lib-modular-app-plugin\\shape-1.0.0-SNAPSHOT.jar', include: ['*.jar'])


  testImplementation("org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion")
  testRuntimeOnly("org.hamcrest:hamcrest-all:1.3")
}

ext.moduleName = "org.jetbrains.letsPlot.kotlin.modules.app"

sourceCompatibility = "11"
targetCompatibility = "11"

apply from: "../module.gradle"

shadowJar {
  mainClassName = "org.jetbrains.letsPlot.kotlin.modules.app.AppKt"
  mergeServiceFiles()
  archiveClassifier = "uber"
  archiveVersion = null
}

extraJavaModuleInfo {
//  module('shape-1.0.0-SNAPSHOT.jar', 'org.jetbrains.letsPlot.kotlin.modules.shape', '1.0.0-SNAPSHOT')
  automaticModule('shape-1.0.0-SNAPSHOT.jar', 'org.jetbrains.letsPlot.kotlin.modules.shape')
}
